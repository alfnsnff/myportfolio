<template>
  <section id="contact" class="contact-section">
    <div class="container">
      <div class="contact-content">
        <div class="contact-info">
          <div class="section-header">
            <span class="section-label">Get In Touch</span>
            <h2 class="section-title">
              Let's Work <span class="title-gradient">Together</span>
            </h2>
            <p class="section-description">
              Tertarik untuk berkolaborasi? Mari diskusikan proyek Anda dan 
              ciptakan sesuatu yang luar biasa bersama-sama.
            </p>
          </div>
          
          <div class="contact-methods">
            <div class="contact-item">
              <div class="contact-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                  <path d="M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z" stroke="currentColor" stroke-width="2"/>
                  <polyline points="22,6 12,13 2,6" stroke="currentColor" stroke-width="2"/>
                </svg>
              </div>
              <div class="contact-details">
                <h4>Email</h4>
                <p>crecsplays@example.com</p>
              </div>
            </div>
            
            <div class="contact-item">
              <div class="contact-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                  <path d="M22 16.92V19.92C22 20.43 21.56 20.87 21.05 20.92C20.7 20.96 20.34 20.9 20 20.77C16.94 19.68 14.23 17.87 12.05 15.49C9.87 13.11 8.1 10.26 7.16 7.08C6.96 6.43 7.04 5.71 7.38 5.12L9.1 2.12C9.4 1.67 9.96 1.47 10.47 1.68L13.25 2.68C13.66 2.85 13.95 3.24 14 3.68L14.5 7.68C14.54 8.08 14.41 8.48 14.15 8.78L12.15 11.28C12.69 12.57 13.43 13.75 14.35 14.77C15.27 15.79 16.37 16.62 17.58 17.22L19.78 15.22C20.08 14.96 20.48 14.83 20.88 14.87L24.88 15.37C25.32 15.42 25.71 15.71 25.88 16.12L26.88 18.9C27.09 19.41 26.89 19.97 26.44 20.27L23.44 22.27C23.01 22.6 22.46 22.72 21.95 22.59C21.31 22.43 20.66 22.21 20 21.92V16.92Z" stroke="currentColor" stroke-width="2"/>
                </svg>
              </div>
              <div class="contact-details">
                <h4>Phone</h4>
                <p>+62 812-3456-7890</p>
              </div>
            </div>
            
            <div class="contact-item">
              <div class="contact-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                  <path d="M21 10C21 17L12 23L3 10C3 6 7 2 12 2S21 6 21 10Z" stroke="currentColor" stroke-width="2"/>
                  <circle cx="12" cy="10" r="3" stroke="currentColor" stroke-width="2"/>
                </svg>
              </div>
              <div class="contact-details">
                <h4>Location</h4>
                <p>Jakarta, Indonesia</p>
              </div>
            </div>
          </div>
          
          <div class="social-links">
            <h4>Follow Me</h4>
            <div class="social-grid">
              <a href="#" class="social-link github">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                  <path d="M9 19C4 20.5 4 16.5 2 16M22 16V20.5C22 21.6 21.1 22.5 20 22.5H4C2.9 22.5 2 21.6 2 20.5V16" stroke="currentColor" stroke-width="2"/>
                  <path d="M16 22V18C16 17 15 16 14 16H10C9 16 8 17 8 18V22" stroke="currentColor" stroke-width="2"/>
                </svg>
                <span>GitHub</span>
              </a>
              
              <a href="#" class="social-link linkedin">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                  <path d="M16 8A6 6 0 0 1 22 14V21H18V14A2 2 0 0 0 14 14A2 2 0 0 0 12 16V21H8V8H12V10A6 6 0 0 1 16 8Z" stroke="currentColor" stroke-width="2"/>
                  <rect x="2" y="8" width="4" height="13" stroke="currentColor" stroke-width="2"/>
                  <circle cx="4" cy="4" r="2" stroke="currentColor" stroke-width="2"/>
                </svg>
                <span>LinkedIn</span>
              </a>
              
              <a href="#" class="social-link twitter">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                  <path d="M23 3A10.9 10.9 0 0 1 20.1 4.1A4.48 4.48 0 0 0 22.46 2.33A9 9 0 0 1 19.5 3.5A4.48 4.48 0 0 0 15.85 2A4.48 4.48 0 0 0 11.37 6.48A12.94 12.94 0 0 1 2 3A4.48 4.48 0 0 0 3.39 8.29A4.48 4.48 0 0 1 1 7.5V7.58A4.48 4.48 0 0 0 4.6 12A4.48 4.48 0 0 1 2.5 12.5A4.48 4.48 0 0 0 6.85 16A9 9 0 0 1 1 18A12.94 12.94 0 0 0 8 20C16.5 20 21 12.5 21 6V5.5A9.27 9.27 0 0 0 23 3Z" stroke="currentColor" stroke-width="2"/>
                </svg>
                <span>Twitter</span>
              </a>
              
              <a href="#" class="social-link instagram">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                  <rect x="2" y="2" width="20" height="20" rx="5" ry="5" stroke="currentColor" stroke-width="2"/>
                  <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37Z" stroke="currentColor" stroke-width="2"/>
                  <line x1="17.5" y1="6.5" x2="17.51" y2="6.5" stroke="currentColor" stroke-width="2"/>
                </svg>
                <span>Instagram</span>
              </a>
            </div>
          </div>
        </div>
        
        <div class="contact-form">
          <form @submit.prevent="submitForm" class="form">
            <div class="form-group">
              <label for="name">Full Name</label>
              <input 
                type="text" 
                id="name" 
                v-model="form.name" 
                placeholder="Your full name"
                :class="{ 'error': errors.name }"
                required 
              />
              <span v-if="errors.name" class="error-message">{{ errors.name }}</span>
            </div>
            
            <div class="form-group">
              <label for="email">Email Address</label>
              <input 
                type="email" 
                id="email" 
                v-model="form.email" 
                placeholder="your.email@example.com"
                :class="{ 'error': errors.email }"
                required 
              />
              <span v-if="errors.email" class="error-message">{{ errors.email }}</span>
            </div>
            
            <div class="form-group">
              <label for="subject">Subject</label>
              <select id="subject" v-model="form.subject" :class="{ 'error': errors.subject }" required>
                <option value="">Select a subject</option>
                <option value="web-development">Web Development</option>
                <option value="mobile-app">Mobile App Development</option>
                <option value="ui-ux-design">UI/UX Design</option>
                <option value="consulting">Technical Consulting</option>
                <option value="other">Other</option>
              </select>
              <span v-if="errors.subject" class="error-message">{{ errors.subject }}</span>
            </div>
            
            <div class="form-group">
              <label for="budget">Budget Range (Optional)</label>
              <select id="budget" v-model="form.budget">
                <option value="">Select budget range</option>
                <option value="under-5m">Under $5,000</option>
                <option value="5m-10m">$5,000 - $10,000</option>
                <option value="10m-25m">$10,000 - $25,000</option>
                <option value="25m-plus">$25,000+</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="message">Project Details</label>
              <textarea 
                id="message" 
                v-model="form.message" 
                placeholder="Tell me about your project, goals, timeline, and any specific requirements..."
                rows="6"
                :class="{ 'error': errors.message }"
                required
              ></textarea>
              <span v-if="errors.message" class="error-message">{{ errors.message }}</span>
            </div>
            
            <div class="form-actions">
              <button type="submit" class="submit-btn" :disabled="isSubmitting">
                <span v-if="!isSubmitting">Send Message</span>
                <span v-else>Sending...</span>
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <line x1="22" y1="2" x2="11" y2="13" stroke="currentColor" stroke-width="2"/>
                  <polygon points="22,2 15,22 11,13 2,9" stroke="currentColor" stroke-width="2"/>
                </svg>
              </button>
            </div>
          </form>
          
          <div v-if="submitted" class="success-message">
            <div class="success-icon">âœ…</div>
            <h3>Message Sent Successfully!</h3>
            <p>Thank you for reaching out. I'll get back to you within 24 hours.</p>
          </div>
        </div>
      </div>
    </div>
  </section>
</template>

<script setup>
import { ref, reactive } from 'vue'

const form = reactive({
  name: '',
  email: '',
  subject: '',
  budget: '',
  message: ''
})

const errors = reactive({})
const isSubmitting = ref(false)
const submitted = ref(false)

const validateForm = () => {
  // Reset errors
  Object.keys(errors).forEach(key => delete errors[key])
  
  if (!form.name.trim()) {
    errors.name = 'Name is required'
  }
  
  if (!form.email.trim()) {
    errors.email = 'Email is required'
  } else if (!/\S+@\S+\.\S+/.test(form.email)) {
    errors.email = 'Please enter a valid email'
  }
  
  if (!form.subject) {
    errors.subject = 'Please select a subject'
  }
  
  if (!form.message.trim()) {
    errors.message = 'Message is required'
  } else if (form.message.trim().length < 10) {
    errors.message = 'Message must be at least 10 characters'
  }
  
  return Object.keys(errors).length === 0
}

const submitForm = async () => {
  if (!validateForm()) return
  
  isSubmitting.value = true
  
  // Simulate API call
  await new Promise(resolve => setTimeout(resolve, 2000))
  
  // Reset form and show success
  Object.keys(form).forEach(key => form[key] = '')
  isSubmitting.value = false
  submitted.value = true
  
  // Hide success message after 5 seconds
  setTimeout(() => {
    submitted.value = false
  }, 5000)
}
</script>

<style scoped lang="scss">
@use '~/assets/scss/variables' as vars;
@use '~/assets/scss/mixins' as mixins;

.contact-section {
  padding: 8rem 0;
  background: linear-gradient(180deg, vars.$light 0%, #ffffff 100%);
}

.contact-content {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 4rem;
  
  @media (max-width: 968px) {
    grid-template-columns: 1fr;
    gap: 3rem;
  }
}

.section-header {
  margin-bottom: 3rem;
  
  .section-label {
    display: inline-block;
    padding: 0.5rem 1rem;
    background: rgba(vars.$primary, 0.1);
    color: vars.$primary;
    border-radius: 2rem;
    font-size: 0.875rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 1rem;
  }
  
  .section-title {
    font-size: clamp(2.5rem, 5vw, 4rem);
    font-weight: 900;
    margin-bottom: 1.5rem;
    color: vars.$dark;
    
    .title-gradient {
      @include mixins.gradient-text(vars.$gradient-primary);
    }
  }
  
  .section-description {
    font-size: 1.125rem;
    color: vars.$gray;
    line-height: 1.6;
  }
}

.contact-methods {
  margin-bottom: 3rem;
  
  .contact-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 2rem;
    
    .contact-icon {
      min-width: 50px;
      height: 50px;
      @include mixins.flex-center;
      background: rgba(vars.$primary, 0.1);
      border-radius: 50%;
      color: vars.$primary;
    }
    
    .contact-details {
      h4 {
        font-size: 1rem;
        font-weight: 700;
        color: vars.$dark;
        margin: 0 0 0.25rem 0;
      }
      
      p {
        color: vars.$gray;
        margin: 0;
        font-size: 0.875rem;
      }
    }
  }
}

.social-links {
  h4 {
    font-size: 1.125rem;
    font-weight: 700;
    color: vars.$dark;
    margin-bottom: 1rem;
  }
  
  .social-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
  }
  
  .social-link {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 1rem;
    background: white;
    border: 2px solid rgba(vars.$gray, 0.1);
    border-radius: vars.$border-radius;
    color: vars.$gray;
    text-decoration: none;
    font-weight: 500;
    transition: all vars.$transition;
    
    &:hover {
      transform: translateY(-2px);
      box-shadow: vars.$shadow-md;
      
      &.github { border-color: #333; color: #333; }
      &.linkedin { border-color: #0077b5; color: #0077b5; }
      &.twitter { border-color: #1da1f2; color: #1da1f2; }
      &.instagram { border-color: #e4405f; color: #e4405f; }
    }
  }
}

.contact-form {
  position: relative;
  
  .form {
    background: white;
    padding: 2.5rem;
    border-radius: vars.$border-radius * 1.5;
    box-shadow: vars.$shadow-xl;
    border: 1px solid rgba(vars.$gray, 0.1);
  }
  
  .form-group {
    margin-bottom: 1.5rem;
    
    label {
      display: block;
      font-weight: 600;
      color: vars.$dark;
      margin-bottom: 0.5rem;
      font-size: 0.875rem;
    }
    
    input, select, textarea {
      width: 100%;
      padding: 1rem;
      border: 2px solid rgba(vars.$gray, 0.2);
      border-radius: vars.$border-radius;
      font-size: 1rem;
      font-family: inherit;
      transition: all vars.$transition;
      background: white;
      
      &:focus {
        outline: none;
        border-color: vars.$primary;
        box-shadow: 0 0 0 3px rgba(vars.$primary, 0.1);
      }
      
      &.error {
        border-color: #ef4444;
      }
      
      &::placeholder {
        color: rgba(vars.$gray, 0.6);
      }
    }
    
    textarea {
      resize: vertical;
      min-height: 120px;
    }
    
    .error-message {
      display: block;
      color: #ef4444;
      font-size: 0.75rem;
      margin-top: 0.25rem;
    }
  }
  
  .form-actions {
    margin-top: 2rem;
    
    .submit-btn {
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      padding: 1.25rem 2rem;
      background: vars.$gradient-primary;
      color: white;
      border: none;
      border-radius: vars.$border-radius;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all vars.$transition;
      
      &:hover:not(:disabled) {
        transform: translateY(-2px);
        box-shadow: vars.$shadow-lg;
      }
      
      &:disabled {
        opacity: 0.7;
        cursor: not-allowed;
      }
    }
  }
  
  .success-message {
    position: absolute;
    inset: 0;
    background: white;
    border-radius: vars.$border-radius * 1.5;
    @include mixins.flex-center;
    flex-direction: column;
    text-align: center;
    padding: 2rem;
    box-shadow: vars.$shadow-xl;
    animation: slideIn 0.5s ease-out;
    
    .success-icon {
      font-size: 4rem;
      margin-bottom: 1rem;
    }
    
    h3 {
      font-size: 1.5rem;
      font-weight: 700;
      color: vars.$dark;
      margin: 0 0 0.5rem 0;
    }
    
    p {
      color: vars.$gray;
      margin: 0;
      line-height: 1.6;
    }
  }
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
</style>